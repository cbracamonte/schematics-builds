{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../../modules/schematics/src/ng-add/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,yDAAsF;AACtF,yDAAqE;AAIrE,SAAS,kBAAkB,CAAC,IAAU,EAAE,KAAU;IAChD,IAAM,SAAS,GAAG,8BAAY,CAAC,IAAI,CAAC,CAAC;IACrC,IAAM,IAAI,GAAG,kCAAgB,CAAC,IAAI,CAAC,CAAC;IAEpC,SAAS,CAAC,KAAK,CAAC,yBACX,SAAS,CAAC,KAAK,CAAC,GAChB,KAAK,CACT,CAAC;IAEF,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;AAC3D,CAAC;AAED,SAAS,sBAAsB;IAC7B,IAAM,GAAG,GAAG;QACV,iBAAiB,EAAE,kBAAkB;KACtC,CAAC;IACF,OAAO,UAAC,IAAU;QAChB,kBAAkB,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QAC9B,OAAO,IAAI,CAAC;IACd,CAAC,CAAC;AACJ,CAAC;AAED,mBAAyB,OAAyB;IAChD,OAAO,UAAC,IAAU,EAAE,OAAyB;QAC3C,OAAO,kBAAK,CAAC;YACX,OAAO,IAAI,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC,sBAAsB,EAAE,CAAC,CAAC,CAAC,iBAAI,EAAE;SACzE,CAAC,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IACpB,CAAC,CAAC;AACJ,CAAC;AAND,+BAMC","sourcesContent":["import {chain, noop, Rule, SchematicContext, Tree,} from '@angular-devkit/schematics';\r\nimport {getWorkspace, getWorkspacePath} from '../../schematics-core';\r\n\r\nimport {Schema as SchematicOptions} from './schema';\r\n\r\nfunction updateWorkspaceCli(host: Tree, value: any) {\r\n  const workspace = getWorkspace(host);\r\n  const path = getWorkspacePath(host);\r\n\r\n  workspace['cli'] = {\r\n    ...workspace['cli'],\r\n    ...value\r\n  };\r\n\r\n  host.overwrite(path, JSON.stringify(workspace, null, 2));\r\n}\r\n\r\nfunction setAsDefaultSchematics() {\r\n  const cli = {\r\n    defaultCollection: '@ngrx/schematics',\r\n  };\r\n  return (host: Tree) => {\r\n    updateWorkspaceCli(host, cli);\r\n    return host;\r\n  };\r\n}\r\n\r\nexport default function (options: SchematicOptions): Rule {\r\n  return (host: Tree, context: SchematicContext) => {\r\n    return chain([\r\n      options && options.defaultCollection ? setAsDefaultSchematics() : noop(),\r\n    ])(host, context);\r\n  };\r\n}\r\n"]}