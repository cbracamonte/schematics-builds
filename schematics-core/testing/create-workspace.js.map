{"version":3,"file":"create-workspace.js","sourceRoot":"","sources":["../../../../../modules/schematics/schematics-core/testing/create-workspace.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKa,QAAA,uBAAuB,GAAG;IACrC,IAAI,EAAE,WAAW;IACjB,cAAc,EAAE,UAAU;IAC1B,OAAO,EAAE,OAAO;IAChB,cAAc,EAAE,KAAK;CACtB,CAAC;AAEW,QAAA,iBAAiB,GAAG;IAC/B,IAAI,EAAE,KAAK;IACX,WAAW,EAAE,KAAK;IAClB,cAAc,EAAE,KAAK;IACrB,iBAAiB,EAAE,UAAU;IAC7B,OAAO,EAAE,KAAK;IACd,KAAK,EAAE,KAAK;IACZ,SAAS,EAAE,KAAK;CACjB,CAAC;AAEF,IAAM,iBAAiB,GAAG;IACxB,IAAI,EAAE,KAAK;CACZ,CAAC;AAEF,SAAgB,kBAAkB,CAChC,gBAA+C,EAC/C,UAAmC;IADnC,iCAAA,EAAA,mBAAwB,+BAAuB;IAC/C,2BAAA,EAAA,aAAkB,yBAAiB;IAEnC,OAAO,MAAI,gBAAgB,CAAC,cAAc,SAAI,UAAU,CAAC,IAAM,CAAC;AAClE,CAAC;AALD,gDAKC;AAED,SAAsB,eAAe,CACnC,eAAoC,EACpC,OAAqB,EACrB,gBAA0C,EAC1C,UAA8B,EAC9B,UAA8B;IAF9B,iCAAA,EAAA,mBAAmB,+BAAuB;IAC1C,2BAAA,EAAA,aAAa,yBAAiB;IAC9B,2BAAA,EAAA,8BAA8B;;;;wBAEpB,qBAAM,eAAe;yBAC5B,yBAAyB,CACxB,qBAAqB,EACrB,WAAW,EACX,gBAAgB,CACjB;yBACA,SAAS,EAAE,EAAA;;oBANd,OAAO,GAAG,SAMI,CAAC;oBAEL,qBAAM,eAAe;6BAC5B,yBAAyB,CACxB,qBAAqB,EACrB,aAAa,EACb,UAAU,EACV,OAAO,CACR;6BACA,SAAS,EAAE,EAAA;;oBAPd,OAAO,GAAG,SAOI,CAAC;oBAEL,qBAAM,eAAe;6BAC5B,yBAAyB,CACxB,qBAAqB,EACrB,SAAS,EACT,UAAU,EACV,OAAO,CACR;6BACA,SAAS,EAAE,EAAA;;oBAPd,OAAO,GAAG,SAOI,CAAC;oBAEf,sBAAO,OAAO,EAAC;;;;CAChB;AAlCD,0CAkCC","sourcesContent":["import {\r\n  SchematicTestRunner,\r\n  UnitTestTree,\r\n} from '@angular-devkit/schematics/testing';\r\n\r\nexport const defaultWorkspaceOptions = {\r\n  name: 'workspace',\r\n  newProjectRoot: 'projects',\r\n  version: '6.0.0',\r\n  defaultProject: 'bar',\r\n};\r\n\r\nexport const defaultAppOptions = {\r\n  name: 'bar',\r\n  inlineStyle: false,\r\n  inlineTemplate: false,\r\n  viewEncapsulation: 'Emulated',\r\n  routing: false,\r\n  style: 'css',\r\n  skipTests: false,\r\n};\r\n\r\nconst defaultLibOptions = {\r\n  name: 'baz',\r\n};\r\n\r\nexport function getTestProjectPath(\r\n  workspaceOptions: any = defaultWorkspaceOptions,\r\n  appOptions: any = defaultAppOptions\r\n) {\r\n  return `/${workspaceOptions.newProjectRoot}/${appOptions.name}`;\r\n}\r\n\r\nexport async function createWorkspace(\r\n  schematicRunner: SchematicTestRunner,\r\n  appTree: UnitTestTree,\r\n  workspaceOptions = defaultWorkspaceOptions,\r\n  appOptions = defaultAppOptions,\r\n  libOptions = defaultLibOptions\r\n) {\r\n  appTree = await schematicRunner\r\n    .runExternalSchematicAsync(\r\n      '@schematics/angular',\r\n      'workspace',\r\n      workspaceOptions\r\n    )\r\n    .toPromise();\r\n\r\n  appTree = await schematicRunner\r\n    .runExternalSchematicAsync(\r\n      '@schematics/angular',\r\n      'application',\r\n      appOptions,\r\n      appTree\r\n    )\r\n    .toPromise();\r\n\r\n  appTree = await schematicRunner\r\n    .runExternalSchematicAsync(\r\n      '@schematics/angular',\r\n      'library',\r\n      libOptions,\r\n      appTree\r\n    )\r\n    .toPromise();\r\n\r\n  return appTree;\r\n}\r\n"]}